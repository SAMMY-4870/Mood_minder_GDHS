{% extends 'base.html' %}

{% block title %}Home · Happy Quotes{% endblock %}

{% block extra_css %}
<!-- Home page CSS -->
<link href="{{ url_for('static', filename='css/pages/home.css') }}" rel="stylesheet">
{% endblock %}

{% block extra_js %}
<!-- Home page JS -->
<script src="{{ url_for('static', filename='js/pages/home.js') }}"></script>
{% endblock %}

{% block content %}
<div class="hero mb-4 reveal floaty">
  <div class="hero-img" style="background-image:none;"></div>
  <div class="hero-overlay"></div>
  <div class="hero-content text-center">
    <h1 class="display-6 mb-2">Find your happy moment</h1>
    <h1 class="display-6 mb-2">      Mood Minder</h1>

    {% if user %}
      <p class="lead">Welcome, {{ user.first_name }}! Here are some suggestions tailored for you.</p>
    {% else %}
      <p class="lead">Quotes, images, music, and mini games to lift your mood.</p>
      
    {% endif %}

    <div class="d-flex justify-content-center gap-2">
      <a class="btn gradient-btn pulse" href="{{ url_for('quotes') }}">Get a Quote</a>
      <a class="btn btn-outline-secondary pulse" href="{{ url_for('games') }}">Play a Game</a>
    </div>
  </div>
</div>

{% if user %}
<!-- Notifications and Progress Section -->
<div class="row mb-4">
  <div class="col-12">
    {% if notifications %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <h5 class="alert-heading">🎉 New Achievements!</h5>
      {% for notification in notifications %}
        <p class="mb-1">{{ notification.icon }} {{ notification.message }}</p>
      {% endfor %}
      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
    {% endif %}
    
    {% if motivational_message %}
    <div class="alert alert-info alert-dismissible fade show" role="alert">
      <h5 class="alert-heading">💪 Motivational Message</h5>
      <p class="mb-0">{{ motivational_message }}</p>
      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
    {% endif %}
    
    {% if progress_insights %}
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
      <h5 class="alert-heading">💡 Progress Insights</h5>
      {% for insight in progress_insights %}
        <p class="mb-1">{{ insight }}</p>
      {% endfor %}
      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
    {% endif %}
  </div>
</div>

<!-- Quick Stats -->
<div class="row mb-4">
  <div class="col-md-2">
    <div class="card text-center">
      <div class="card-body">
        <h5 class="card-title">🎮 Games</h5>
        <p class="card-text">Play stress-relief games</p>
        <a href="{{ url_for('games') }}" class="btn btn-primary">Play Now</a>
      </div>
    </div>
  </div>
  <div class="col-md-2">
    <div class="card text-center">
      <div class="card-body">
        <h5 class="card-title">🧠 Mood Check</h5>
        <p class="card-text">Assess your mental health</p>
        <a href="{{ url_for('mood_assessment') }}" class="btn btn-success">Start Assessment</a>
      </div>
    </div>
  </div>
  <div class="col-md-2">
    <div class="card text-center">
      <div class="card-body">
        <h5 class="card-title">🤖 AI Chat</h5>
        <p class="card-text">Talk to health assistant</p>
        <a href="{{ url_for('chatbot') }}" class="btn btn-info">Start Chat</a>
      </div>
    </div>
  </div>
  <div class="col-md-2">
    <div class="card text-center">
      <div class="card-body">
        <h5 class="card-title">📊 Dashboard</h5>
        <p class="card-text">View your progress</p>
        <a href="{{ url_for('activity') }}" class="btn btn-warning">View Progress</a>
      </div>
    </div>
  </div>
  <div class="col-md-2">
    <div class="card text-center">
      <div class="card-body">
        <h5 class="card-title">🏆 Leaderboard</h5>
        <p class="card-text">See how you rank</p>
        <a href="{{ url_for('game_leaderboard') }}" class="btn btn-secondary">View Rankings</a>
      </div>
    </div>
  </div>
  <div class="col-md-2">
    <div class="card text-center">
      <div class="card-body">
        <h5 class="card-title">🔔 Notifications</h5>
        <p class="card-text">Your achievements</p>
        <a href="{{ url_for('notifications') }}" class="btn btn-dark">View All</a>
      </div>
    </div>
  </div>
</div>

<!-- Mood Assessment Prompt -->
<div class="row mb-4">
  <div class="col-12">
    <div class="alert alert-info alert-dismissible fade show" role="alert">
      <h5 class="alert-heading">🧠 Quick Mood Check</h5>
      <p class="mb-2">Take our 5-question mood assessment to get personalized insights and recommendations for your mental health journey.</p>
      <a href="{{ url_for('mood_assessment') }}" class="btn btn-info">Start Quick Assessment</a>
      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
  </div>
</div>

{% if suggestions|length %}
<div class="row justify-content-center">
  <div class="col-lg-8">
    <div class="card border-primary">
      <div class="card-header bg-primary text-white">Recommended for you</div>
      <div class="card-body">
        <ul class="mb-0">
          {% for s in suggestions %}
            <li class="mb-2"><a href="{{ s.url }}">{{ s.text }}</a></li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
  <div class="col-12 text-center mt-3">
    <a class="btn btn-outline-secondary" href="{{ url_for('games') }}">Or relax with a quick game</a>
  </div>
</div>
{% endif %}
{% endif %}
{% endblock %}
